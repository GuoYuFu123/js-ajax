function getParams(b,c){if(b=="GET"){var a=[];for(var d in c){a.push(encodeURIComponent(d)+"="+encodeURIComponent(c[d]))}return a.join("&")}else{return JSON.stringify(c)}}$.extend({fetchData:function(a){a=a||{};a.url=a.url||"http://127.0.0.1:8080";a.type=(a.type||"GET").toUpperCase();a.dataType=a.dataType||"json";a.ContentType=a.ContentType||"application/x-www-form-urlencoded";a.async=a.async||true;var c=getParams(a.type,a.data);var b;if(window.XMLHttpRequest){b=new XMLHttpRequest()}else{b=new ActiveXObject("Microsoft.XMLHTTP")}if(a.type=="GET"){b.open("GET",a.url+"?"+c,a.async);b.send(null)}else{if(a.type=="POST"){b.open("POST",a.url,a.async);b.setRequestHeader("Content-Type",a.ContentType);b.send(c)}}b.onreadystatechange=function(){if(b.readyState==4){var d=b.status;if(d>=200&&d<300){a.success&&a.success(JSON.parse(b.responseText),b.responseXML)}else{a.fail&&a.fail(d)}}}}});